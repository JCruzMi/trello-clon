import{a as Y,b as _,u as x,_ as ee}from"./BzjlSgYs.js";import{m as G,g as j,_ as H,h as P,o as l,c as s,a as C,r as p,s as b,a0 as $,x as h,F as I,d as S,t as V,v as N,a1 as ae,i as J,j as q,M as te,k as v,A as U,L as re,a2 as le,a3 as se,Q as R,S as oe,X as ne,l as ie,n as ue,a4 as de,Z as pe,z as me,a5 as fe,D as w,b as z,w as D,K as ye,I as ce}from"./DTdSIrCk.js";const ge={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},F=G(j.ui.strategy,j.ui.formGroup,ge),be=P({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(F.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:t,attrs:r}=J("formGroup",q(e,"ui"),F,q(e,"class")),u=te("form-errors",null),m=v(()=>{var k,i;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(i=(k=u==null?void 0:u.value)==null?void 0:k.find(B=>B.path===e.name))==null?void 0:i.message}),o=v(()=>t.value.size[e.size??F.default.size]),n=U(Y("$K7dDJpdOWE"));return re("form-group",{error:m,inputId:n,name:v(()=>e.name),size:v(()=>e.size),eagerValidation:v(()=>e.eagerValidation)}),{ui:t,attrs:r,inputId:n,size:o,error:m}}}),he=["for"];function ve(e,t,r,u,m,o){return l(),s("div",h({class:e.ui.wrapper},e.attrs),[C("div",{class:p(e.ui.inner)},[e.label||e.$slots.label?(l(),s("div",{key:0,class:p([e.ui.label.wrapper,e.size])},[C("label",{for:e.inputId,class:p([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?b(e.$slots,"label",$(h({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(l(),s(I,{key:1},[S(V(e.label),1)],64))],10,he),e.hint||e.$slots.hint?(l(),s("span",{key:0,class:p([e.ui.hint])},[e.$slots.hint?b(e.$slots,"hint",$(h({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(l(),s(I,{key:1},[S(V(e.hint),1)],64))],2)):N("",!0)],2)):N("",!0),e.description||e.$slots.description?(l(),s("p",{key:1,class:p([e.ui.description,e.size])},[e.$slots.description?b(e.$slots,"description",$(h({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(l(),s(I,{key:1},[S(V(e.description),1)],64))],2)):N("",!0)],2),C("div",{class:p([e.label?e.ui.container:""])},[b(e.$slots,"default",$(ae({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(l(),s("p",{key:0,class:p([e.ui.error,e.size])},[e.$slots.error?b(e.$slots,"error",$(h({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(l(),s(I,{key:1},[S(V(e.error),1)],64))],2)):e.help||e.$slots.help?(l(),s("p",{key:1,class:p([e.ui.help,e.size])},[e.$slots.help?b(e.$slots,"help",$(h({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(l(),s(I,{key:1},[S(V(e.help),1)],64))],2)):N("",!0)],2)],16)}const ke=H(be,[["render",ve]]),c=G(j.ui.strategy,j.ui.textarea,le),$e=P({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(c.size).includes(e)}},color:{type:String,default:()=>c.default.color,validator(e){return[...j.ui.colors,...Object.keys(c.color)].includes(e)}},variant:{type:String,default:()=>c.default.variant,validator(e){return[...Object.keys(c.variant),...Object.values(c.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:r,attrs:u}=J("textarea",q(e,"ui"),c,q(e,"class")),{emitFormBlur:m,emitFormInput:o,inputId:n,color:k,size:i,name:B}=_(e,c),f=U(se({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),d=U(null),T=()=>{var a;e.autofocus&&((a=d.value)==null||a.focus())},g=()=>{if(e.autoresize){if(!d.value)return;d.value.rows=e.rows;const a=window.getComputedStyle(d.value),y=parseInt(a.paddingTop),O=parseInt(a.paddingBottom),W=y+O,X=parseInt(a.lineHeight),{scrollHeight:Z}=d.value,M=(Z-W)/X;M>e.rows&&(d.value.rows=e.maxrows?Math.min(M,e.maxrows):M)}},A=a=>{f.value.trim&&(a=a.trim()),f.value.number&&(a=de(a)),t("update:modelValue",a),o()},K=a=>{g(),f.value.lazy||A(a.target.value)},E=a=>{const y=a.target.value;t("change",y),f.value.lazy&&A(y),f.value.trim&&(a.target.value=y.trim())},L=a=>{t("blur",a),m()};R(()=>{setTimeout(()=>{T()},e.autofocusDelay)}),oe(()=>e.modelValue,()=>{ne(g)}),R(()=>{setTimeout(()=>{T(),g()},100)});const Q=v(()=>{var y,O;const a=((O=(y=r.value.color)==null?void 0:y[k.value])==null?void 0:O[e.variant])||r.value.variant[e.variant];return ie(ue(r.value.base,r.value.form,r.value.rounded,r.value.placeholder,r.value.size[i.value],e.padded?r.value.padding[i.value]:"p-0",a==null?void 0:a.replaceAll("{color}",k.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:r,attrs:u,name:B,inputId:n,textarea:d,textareaClass:Q,onInput:K,onChange:E,onBlur:L}}}),we=["id","value","name","rows","required","disabled","placeholder"];function ze(e,t,r,u,m,o){return l(),s("div",{class:p(e.ui.wrapper)},[C("textarea",h({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...n)=>e.onInput&&e.onInput(...n)),onBlur:t[1]||(t[1]=(...n)=>e.onBlur&&e.onBlur(...n)),onChange:t[2]||(t[2]=(...n)=>e.onChange&&e.onChange(...n))}),null,16,we),b(e.$slots,"default")],2)}const Se=H($e,[["render",ze]]),Be={class:"task-wrapper"},Ie={key:0,class:"task-view"},Ve={key:1},Ce=C("p",null,"Task not found.",-1),je=[Ce],Ne={__name:"[id]",setup(e){const t=x(),r=pe(),u=me(),m=fe(),o=v(()=>t.getTask(r.params.id));function n(){m.add({title:"Task deleted",description:`${o.value.name} has been deleted.`,icon:"i-heroicons-trash",color:"red"}),t.deleteTask(r.params.id),u.push("/")}return(k,i)=>{const B=ee,f=ke,d=Se,T=ye;return l(),s("div",Be,[w(o)?(l(),s("div",Ie,[z(f,{label:"Name",class:"w-full mb-4"},{default:D(()=>[z(B,{type:"text",modelValue:w(o).name,"onUpdate:modelValue":i[0]||(i[0]=g=>w(o).name=g)},null,8,["modelValue"])]),_:1}),z(f,{label:"Description",class:"w-full mb-4"},{default:D(()=>[z(d,{modelValue:w(o).description,"onUpdate:modelValue":i[1]||(i[1]=g=>w(o).description=g)},null,8,["modelValue"])]),_:1}),z(T,{color:"red",onClick:n},{default:D(()=>[z(w(ce),{icon:"material-symbols:delete-rounded",class:"w-5 h-5 text-slate-800"}),S(" Delete task ")]),_:1})])):(l(),s("div",Ve,je))])}}};export{Ne as default};
